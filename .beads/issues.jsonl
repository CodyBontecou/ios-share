{"id":"ios-share-0gc","title":"Set up database for multi-user support","description":"Implement database layer for storing user accounts, subscriptions, and image metadata. Recommended: Cloudflare D1 (serverless SQL) for seamless integration with existing Cloudflare Workers backend.\n\nSchema requirements:\n- users: id, email, password_hash, created_at, subscription_tier, api_token\n- images: id, user_id, r2_key, filename, size_bytes, created_at, delete_token\n- subscriptions: id, user_id, tier, status, current_period_end, stripe_subscription_id, storage_limit_bytes\n- storage_usage: user_id, total_bytes_used, image_count, last_updated\n\nThis is foundational for all other SaaS features.","status":"in_progress","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:01:51.460444-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-26T07:30:23.05705-04:00","labels":["backend","database","foundational"]}
{"id":"ios-share-17c","title":"Add analytics and usage tracking","description":"Implement analytics to track usage and inform business decisions:\n\nRequirements:\n- Track image uploads (count, size, format)\n- Track storage usage trends per user\n- Track subscription conversions and churn\n- Track API usage by endpoint\n- Track user engagement (DAU/MAU)\n- Revenue metrics (MRR, ARR, churn rate)\n\nAnalytics platform options:\n- Cloudflare Analytics Engine (native)\n- PostHog (self-hosted or cloud)\n- Mixpanel\n- Custom D1 analytics tables\n\nMetrics to track:\n- Total images uploaded per day/week/month\n- Average image size\n- Popular image formats\n- Storage growth rate\n- Subscription tier distribution\n- Conversion funnel (signup → paid)\n- Feature usage (shares, albums, tags)\n\nDashboards:\n- Admin analytics dashboard\n- User personal usage stats\n- Real-time metrics for monitoring\n\nPrivacy:\n- GDPR compliant data collection\n- User opt-out option\n- Data retention policies","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:03:29.067795-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:03:29.067795-04:00","labels":["analytics","backend"],"dependencies":[{"issue_id":"ios-share-17c","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:03:29.070204-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-1an","title":"Implement build configuration for SaaS backend URL","description":"Add build-time configuration to automatically set backend URL for SaaS builds.\n\nImplementation:\n- Add BACKEND_URL to xcconfig files for different schemes (Debug, Release, SaaS)\n- Update Config.swift to read from build configuration\n- Set default backend URL to production hosted URL for SaaS builds\n- Ensure Share Extension also receives the configuration\n\nCurrent state:\n- Backend URL stored in UserDefaults (Config.sharedDefaults)\n- UploadService.swift reads from Config.backendUrl\n- SettingsView.swift allows manual URL entry","status":"open","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:46.108745-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:46.108745-04:00","dependencies":[{"issue_id":"ios-share-1an","depends_on_id":"ios-share-f1w","type":"blocks","created_at":"2026-01-25T22:08:04.097878-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-1ht","title":"Update SettingsView for SaaS mode","description":"Modify SettingsView.swift to hide/disable backend URL field in SaaS mode.\n\nChanges:\n- In SaaS mode: Show read-only backend URL (pre-configured)\n- In Self-Hosted mode: Keep existing editable TextField\n- Add visual indicator showing which mode is active\n- Update validation logic to skip URL validation in SaaS mode\n- Keep token configuration editable in both modes\n\nFile: frontend/ImageHost/ImageHost/Views/SettingsView.swift","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:46.948831-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:46.948831-04:00","dependencies":[{"issue_id":"ios-share-1ht","depends_on_id":"ios-share-f1w","type":"blocks","created_at":"2026-01-25T22:08:04.852481-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-1ht","depends_on_id":"ios-share-1an","type":"blocks","created_at":"2026-01-25T22:08:06.419688-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-24u","title":"Write automated test suite","description":"Build comprehensive test coverage for SaaS platform:\n\nRequirements:\n- Unit tests for all backend endpoints\n- Integration tests for user flows\n- E2E tests for critical paths\n- Load testing for scalability\n- Security testing (penetration testing)\n- iOS app UI tests\n\nBackend testing:\n- Vitest or Jest for unit tests\n- Supertest for API integration tests\n- Test database with fixtures\n- Mock Stripe webhooks\n- Mock email sending\n\niOS testing:\n- XCTest for unit tests\n- UI tests for main flows\n- Share extension tests\n- Screenshot testing\n\nTest coverage:\n- 80%+ code coverage target\n- All critical paths covered\n- Edge cases and error handling\n- Security vulnerabilities\n\nCI/CD:\n- Run tests on every PR\n- Prevent deploy if tests fail\n- Performance regression tests\n- Visual regression tests\n\nLoad testing:\n- Simulate 1000 concurrent users\n- Test quota enforcement under load\n- Database performance under stress\n- R2 upload throughput limits","status":"open","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:59.555218-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:59.555218-04:00","labels":["backend","quality","testing"]}
{"id":"ios-share-27y","title":"Build clipboard customization settings page","description":"Create the settings page UI for clipboard customization. Allow users to: Select default clipboard format, Configure format-specific options (alt text, link text patterns), Preview clipboard output, Test copy functionality. Should integrate with existing Settings view.","status":"open","priority":2,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:24:14.599667-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:24:14.599667-04:00","dependencies":[{"issue_id":"ios-share-27y","depends_on_id":"ios-share-a69","type":"blocks","created_at":"2026-01-25T22:24:28.369205-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-27y","depends_on_id":"ios-share-e7n","type":"blocks","created_at":"2026-01-25T22:24:28.498346-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-2ct","title":"Design image export feature architecture","description":"Design comprehensive image export system for users to download all their hosted images.\n\nKey decisions needed:\n1. Export formats: Individual files, ZIP archive, or both\n2. Backend approach: Bulk zip generation vs. client-side download of individual images\n3. Storage destination: Photos library, Files app, share sheet, or iCloud\n4. Metadata inclusion: Export JSON/CSV with URLs, filenames, timestamps\n5. Size considerations: Handle users with 100+ images (max history limit)\n6. Network efficiency: Resume support, parallel downloads, compression\n\nCurrent state:\n- UploadRecord stored locally with url, deleteUrl, thumbnailData\n- HistoryService manages up to 100 records in JSON file\n- No existing export or bulk download capability\n\nDesign should consider:\n- User authentication required for backend image access\n- Privacy: Don't expose other users' images\n- Bandwidth: Large exports may be expensive for users\n- UX: Clear progress indication and cancellation","design":"# Image Export Feature Architecture\n\n## Overview\nDesign for comprehensive image export functionality supporting multiple formats, destinations, and efficient handling of large image collections (100+ images).\n\n## Current State Analysis\n\n### Data Model\n- **UploadRecord**: Contains `id`, `url`, `deleteUrl`, `thumbnailData`, `createdAt`, `originalFilename`\n- **HistoryService**: JSON-based storage in shared container, max 100 records\n- **Backend**: Cloudflare Workers + R2, stores images with custom metadata (deleteToken, originalName)\n- **Current Limitations**: \n  - No multi-user support yet (future P2 work)\n  - No batch download API\n  - Images stored individually in R2\n\n## Architecture Decision: Hybrid Backend + Client Approach\n\n### Rationale\n- **Backend generates archives** for efficiency (avoid 100+ individual downloads)\n- **Client handles destinations** (Photos, Files, share sheet) for iOS capabilities\n- **Backend provides metadata** to minimize client processing\n- **Progressive enhancement** works with current single-user token model\n\n## Export Formats\n\n### 1. ZIP Archive (Primary)\n**Structure:**\n```\nexport_2026-01-26/\n├── manifest.json          # Export metadata\n├── images/\n│   ├── 2026-01-26_photo1_abc12345.jpg\n│   ├── 2026-01-26_screenshot_def67890.png\n│   └── ...\n└── metadata.csv           # Optional tabular metadata\n```\n\n**manifest.json schema:**\n```json\n{\n  \"exportedAt\": \"2026-01-26T12:00:00Z\",\n  \"imageCount\": 42,\n  \"totalSize\": 52428800,\n  \"format\": \"zip\",\n  \"images\": [\n    {\n      \"id\": \"abc12345\",\n      \"filename\": \"2026-01-26_photo1_abc12345.jpg\",\n      \"originalFilename\": \"photo1.jpg\",\n      \"uploadedAt\": \"2026-01-25T10:30:00Z\",\n      \"url\": \"https://img.example.com/abc12345.jpg\",\n      \"size\": 1245000\n    }\n  ]\n}\n```\n\n### 2. Individual Files\n- Direct download of selected images (1-10 images)\n- Client-side downloads via URLSession\n- Original filenames preserved\n\n### 3. Metadata Only (Future Enhancement)\n- CSV/JSON export of upload history\n- Useful for record-keeping without images\n\n## Backend API Design\n\n### POST /api/export\n**Purpose:** Initiate export job for all user images\n\n**Request:**\n```json\n{\n  \"format\": \"zip\",\n  \"imageIds\": [\"abc123\", \"def456\"],  // Optional: specific images\n  \"includeMetadata\": true\n}\n```\n\n**Response:**\n```json\n{\n  \"jobId\": \"export_abc123def456\",\n  \"status\": \"processing\",\n  \"estimatedCompletion\": \"2026-01-26T12:05:00Z\"\n}\n```\n\n### GET /api/export/{jobId}/status\n**Purpose:** Poll for export job completion\n\n**Response:**\n```json\n{\n  \"jobId\": \"export_abc123\",\n  \"status\": \"completed\",  // processing | completed | failed\n  \"progress\": 100,\n  \"imageCount\": 42,\n  \"archiveSize\": 52428800,\n  \"downloadUrl\": \"https://backend.com/exports/export_abc123.zip\",\n  \"expiresAt\": \"2026-01-27T12:00:00Z\"\n}\n```\n\n### GET /api/export/{jobId}/download\n**Purpose:** Download completed archive\n\n**Headers:**\n- `Authorization: Bearer {token}` - Required\n- `Range: bytes=X-Y` - Support resume (HTTP 206)\n\n**Response:**\n- Binary ZIP file\n- Content-Type: application/zip\n- Content-Disposition: attachment; filename=\"imagehost-export-2026-01-26.zip\"\n\n### Implementation Details (Cloudflare Workers)\n\n**Job Processing:**\n1. Validate authentication (bearer token)\n2. Query R2 for all images matching user's token (use R2 list API)\n3. Stream images into ZIP using streaming-zip library\n4. Store temporary ZIP in R2 exports bucket (24h TTL)\n5. Return download URL\n\n**Key Challenges:**\n- Cloudflare Workers have 30s CPU time limit\n- Use Durable Objects or Queue for long-running exports\n- Alternative: Generate signed URLs for each image, client assembles ZIP\n\n**Recommended Approach for MVP:**\n- For \u003c 50 images: Workers can stream-zip directly\n- For 50+ images: Return array of signed R2 URLs, client downloads + zips\n- Future: Implement Queue API for async processing\n\n## iOS Client Architecture\n\n### ExportService\n**Location:** `/frontend/ImageHost/Shared/Services/ExportService.swift`\n\n**Responsibilities:**\n1. Initiate export requests\n2. Poll for job completion\n3. Download archives with progress tracking\n4. Handle resume/retry logic\n5. Integrate with destination handlers\n\n**Key Methods:**\n```swift\nclass ExportService {\n    // Export all history\n    func exportAll(destination: ExportDestination) async throws -\u003e ExportResult\n    \n    // Export selected records\n    func exportRecords(_ records: [UploadRecord], destination: ExportDestination) async throws -\u003e ExportResult\n    \n    // Download with progress\n    func downloadExport(jobId: String, progress: @escaping (Double) -\u003e Void) async throws -\u003e URL\n    \n    // Cancel ongoing export\n    func cancelExport(jobId: String)\n}\n\nenum ExportDestination {\n    case files              // Save to Files app\n    case photos             // Import to Photos library\n    case share              // Show share sheet\n}\n\nstruct ExportResult {\n    let jobId: String\n    let imageCount: Int\n    let archiveSize: Int64\n    let localURL: URL\n}\n```\n\n### Network Efficiency\n\n**Parallel Downloads (Individual Images):**\n```swift\n// For 1-10 images, download in parallel\nawait withThrowingTaskGroup(of: (UploadRecord, Data).self) { group in\n    for record in records {\n        group.addTask {\n            let data = try await downloadImage(url: record.url)\n            return (record, data)\n        }\n    }\n}\n```\n\n**Resume Support (Large Archives):**\n```swift\n// Use URLSession download task with resume data\nvar request = URLRequest(url: downloadURL)\nif let resumeData = savedResumeData {\n    task = session.downloadTask(withResumeData: resumeData)\n} else {\n    task = session.downloadTask(with: request)\n}\n```\n\n**Progress Tracking:**\n```swift\n// URLSessionDownloadDelegate\nfunc urlSession(_ session: URLSession, \n                downloadTask: URLSessionDownloadTask,\n                didWriteData bytesWritten: Int64,\n                totalBytesWritten: Int64,\n                totalBytesExpectedToWrite: Int64) {\n    let progress = Double(totalBytesWritten) / Double(totalBytesExpectedToWrite)\n    progressHandler?(progress)\n}\n```\n\n### Handling 100+ Images\n\n**Strategy 1: Backend ZIP (Preferred)**\n- Single API call to initiate export\n- Poll for completion (every 2-3s)\n- Single large download with progress\n- Benefits: Simple, efficient, resumable\n- Drawbacks: Requires backend Queue/Durable Objects\n\n**Strategy 2: Client-Side Assembly (Fallback)**\n- Backend returns array of signed URLs\n- Client downloads in batches (10 concurrent)\n- Client creates ZIP using ZIPFoundation library\n- Benefits: Works with current Workers architecture\n- Drawbacks: Higher battery/data usage\n\n**Recommendation for 100+ images:**\n- Use Backend ZIP approach\n- Implement Queue API on Cloudflare Workers\n- Add background processing for iOS (BGTask)\n\n## Storage Destinations\n\n### 1. Files App\n```swift\n// Use UIDocumentPickerViewController\nlet picker = UIDocumentPickerViewController(forExporting: [exportURL])\npicker.delegate = self\npresent(picker, animated: true)\n```\n\n### 2. Photos Library\n```swift\nimport Photos\n\n// Request permission\nlet status = await PHPhotoLibrary.requestAuthorization(for: .addOnly)\n\n// Import images from ZIP\nfor imageData in extractedImages {\n    PHPhotoLibrary.shared().performChanges {\n        let request = PHAssetCreationRequest.forAsset()\n        request.addResource(with: .photo, data: imageData, options: nil)\n    }\n}\n```\n\n### 3. Share Sheet\n```swift\n// Use UIActivityViewController\nlet activityVC = UIActivityViewController(\n    activityItems: [exportURL],\n    applicationActivities: nil\n)\npresent(activityVC, animated: true)\n```\n\n## UI/UX Flow\n\n### HistoryView Export Button\n1. User taps \"Export All\" or selects specific images\n2. Show destination picker: Files / Photos / Share\n3. Display progress modal with:\n   - \"Preparing export...\" (backend processing)\n   - Download progress bar (0-100%)\n   - Cancel button\n4. On completion:\n   - Files: Auto-open document picker\n   - Photos: Show confirmation + import progress\n   - Share: Show share sheet\n\n### Error Handling\n- Network failures: Retry with exponential backoff\n- Insufficient storage: Alert with size estimate\n- Backend errors: Show user-friendly message + retry\n\n## Data Model Extensions\n\n### New Models\n```swift\nstruct ExportJob: Codable {\n    let id: String\n    let status: ExportStatus\n    let progress: Double\n    let imageCount: Int\n    let archiveSize: Int64?\n    let downloadUrl: String?\n    let expiresAt: Date?\n    let createdAt: Date\n}\n\nenum ExportStatus: String, Codable {\n    case processing\n    case completed\n    case failed\n}\n```\n\n### UploadRecord Extensions\nNo changes needed - current model sufficient\n\n## Performance Considerations\n\n### Memory Management\n- Stream downloads to disk (don't buffer in memory)\n- Process ZIP extraction incrementally\n- Release resources promptly\n\n### Battery Efficiency\n- Use URLSession background tasks for large downloads\n- Batch API calls (polling max every 2s)\n- Avoid excessive retries\n\n### Network Efficiency\n- HTTP range requests for resume\n- Compress manifest.json with gzip\n- Parallel downloads limited to 10 concurrent\n\n## Security Considerations\n\n### Authentication\n- All export APIs require bearer token\n- Validate token on every request\n- No public access to exports\n\n### Download URLs\n- Time-limited signed URLs (24h expiry)\n- One-time download tokens (optional enhancement)\n- HTTPS only\n\n### Data Privacy\n- Exports stored in shared container (encrypted at rest)\n- Temporary files cleaned up after import\n- User can delete export jobs\n\n## Implementation Phases\n\n### Phase 1: MVP (Current Sprint)\n- Backend: POST /api/export with simple ZIP (\u003c 50 images)\n- iOS: ExportService with Files destination\n- UI: Basic export button + progress\n\n### Phase 2: Enhanced (Next Sprint)\n- Backend: Queue API for 100+ images\n- iOS: Photos + Share destinations\n- UI: Selection mode + export options\n\n### Phase 3: Advanced (Future)\n- Background downloads (BGTask)\n- Metadata-only exports\n- Incremental/delta exports\n\n## Testing Strategy\n\n### Unit Tests\n- ExportService download logic\n- ZIP extraction\n- Progress calculation\n- Error handling\n\n### Integration Tests\n- End-to-end export flow\n- Multiple destinations\n- Network interruptions\n- Large datasets (100+ images)\n\n### Performance Tests\n- 10, 50, 100+ image exports\n- Memory usage monitoring\n- Battery drain measurement\n\n## Metrics \u0026 Monitoring\n\n### Track\n- Export success rate\n- Average export time by image count\n- Download resume frequency\n- Destination preferences (Files vs Photos vs Share)\n- Error rates by type\n\n### Alerts\n- Export job failures \u003e 5%\n- Average export time \u003e 60s for \u003c 50 images\n- Storage quota exceeded\n\n## Open Questions for Review\n\n1. Should we support partial exports (date range, size limit)?\n2. Add export scheduling (nightly backup)?\n3. Support cloud storage destinations (iCloud, Dropbox)?\n4. Include deleted images in exports?\n5. Add export encryption option?\n\n## Summary\n\nThis architecture provides:\n- Efficient bulk export for 100+ images via backend ZIP\n- Flexible client-side destinations (Files, Photos, Share)\n- Resume support for network interruptions\n- Scalable backend using Cloudflare Queue API\n- Progressive enhancement (works with current single-user model)\n\nNext steps:\n1. Implement backend POST /api/export endpoint (ios-share-85a)\n2. Create iOS ExportService (ios-share-4ky)\n3. Add UI export controls to HistoryView (ios-share-3r6)","status":"closed","priority":1,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:49.096288-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-26T07:32:08.33146-04:00","closed_at":"2026-01-26T07:32:08.33146-04:00","close_reason":"Closed"}
{"id":"ios-share-2jy","title":"Implement multi-region deployment strategy","description":"Deploy to multiple regions for better global performance:\n\nRequirements:\n- Deploy Workers to multiple Cloudflare regions\n- R2 bucket replication or multi-region strategy\n- D1 replication (when available) or read replicas\n- CDN edge caching strategy\n- Geo-routing for optimal performance\n- Failover mechanisms\n\nCloudflare capabilities:\n- Workers automatically deployed globally\n- R2 multi-region coming soon (use single region for now)\n- D1 single region (plan for future replication)\n- Cloudflare CDN for image delivery\n\nPerformance targets:\n- \u003c 100ms API latency for 95% of users globally\n- \u003c 50ms image delivery from CDN\n- 99.99% uptime SLA\n\nDeployment strategy:\n- Blue-green deployments\n- Canary releases for new features\n- Automated rollback on errors\n- Zero-downtime migrations\n\nTesting:\n- Load testing from multiple regions\n- Latency monitoring per region\n- Synthetic monitoring globally\n- Chaos engineering for resilience","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:42.203312-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:42.203312-04:00","labels":["backend","deployment","infrastructure"]}
{"id":"ios-share-2l7","title":"Implement server-side configuration endpoint","description":"Backend API endpoint to provide client configuration dynamically.\n\nBackend work needed:\n- Create /api/config endpoint\n- Return JSON with: backend capabilities, feature flags, upload limits\n- Version the configuration API for compatibility\n- Add caching headers\n\nExample response:\n{\n  \"uploadEndpoint\": \"https://api.example.com/upload\",\n  \"maxUploadSize\": 100000000,\n  \"supportedFormats\": [\"jpeg\", \"png\", \"gif\", \"webp\"],\n  \"features\": {\"resize\": true, \"deleteAfterUpload\": true}\n}\n\niOS integration:\n- Fetch config on app launch\n- Update UploadService with dynamic configuration\n- Handle config fetch failures gracefully","status":"open","priority":2,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:51.517896-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:51.517896-04:00"}
{"id":"ios-share-3px","title":"Add background download support for exports","description":"Enable exports to continue when app is backgrounded or closed.\n\nImplementation:\n- Use URLSession with background configuration\n- Handle app termination and recovery\n- Show notification when export completes in background\n- Store export state in UserDefaults for recovery\n\nFile: Update ExportService.swift and ImageDownloadService.swift\n\nBackground session configuration:\n\n\u001b[1;38;5;196mWelcome to Swift!\u001b[0m\n\n\u001b[1mSubcommands:\u001b[0m\n\n  \u001b[1mswift build\u001b[0m      Build Swift packages\n  \u001b[1mswift package\u001b[0m    Create and work on packages\n  \u001b[1mswift run\u001b[0m        Run a program from a package\n  \u001b[1mswift test\u001b[0m       Run package tests\n  \u001b[1mswift repl\u001b[0m       Experiment with Swift code interactively\n\n  Use \u001b[1m`swift --version`\u001b[0m for Swift version information.\n\n  Use \u001b[1m`swift --help`\u001b[0m for descriptions of available options and flags.\n\n  Use \u001b[1m`swift help \u003csubcommand\u003e`\u001b[0m for more information about a subcommand.\n\nFeatures:\n- Export continues in background\n- System manages download scheduling\n- Push notification on completion\n- Resume interrupted exports on next app launch\n- Handle background URL session delegates\n\nApp lifecycle integration:\n- Save export job state before backgrounding\n- Restore progress when app reopens\n- Handle completion handlers in AppDelegate/SceneDelegate\n\nUser notifications:\n- 'Export complete: 42 images downloaded'\n- 'Export failed: Tap to retry'\n\nLimitations:\n- iOS may suspend downloads if device is low on battery\n- Very large exports may need to be split into chunks","status":"open","priority":4,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:59.202431-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:59.202431-04:00","dependencies":[{"issue_id":"ios-share-3px","depends_on_id":"ios-share-4ky","type":"blocks","created_at":"2026-01-25T22:12:18.066619-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-3r6","title":"Add export UI to HistoryView","description":"Add export button and UI to HistoryView for initiating image exports.\n\nFile: frontend/ImageHost/ImageHost/Views/HistoryView.swift\n\nUI additions:\n- Export button in navigation bar (toolbar)\n- Export options sheet with format selection\n- Progress view during export (percentage, image count, size)\n- Success state with 'Open Archive' or 'Share' buttons\n- Error state with retry option\n- Cancellation support\n\nExport options:\n- Full archive (ZIP from backend)\n- Metadata only (JSON/CSV export of HistoryService data)\n- Individual image download (client-side from URLs)\n\nCurrent HistoryView features:\n- List of UploadRecord items with thumbnails\n- Swipe to delete\n- Pull to refresh\n- Already integrated with HistoryService\n\nNew states to handle:\n- .exporting (show progress)\n- .exportComplete (show success with actions)\n- .exportFailed (show error with retry)","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:53.007641-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:53.007641-04:00","dependencies":[{"issue_id":"ios-share-3r6","depends_on_id":"ios-share-4ky","type":"blocks","created_at":"2026-01-25T22:12:15.27551-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-47f","title":"Implement email notification system","description":"Set up transactional email system for user communications:\n\nRequirements:\n- Welcome email on registration\n- Email verification with link\n- Password reset emails\n- Payment receipt emails\n- Subscription renewal reminders\n- Payment failure notifications\n- Storage quota warnings (80%, 95%, 100%)\n- Weekly/monthly usage reports (optional)\n- Marketing emails (with opt-out)\n\nEmail service options:\n- Cloudflare Email Workers\n- SendGrid\n- Postmark\n- Amazon SES\n- Resend\n\nEmail templates:\n- Professional HTML templates\n- Plain text fallbacks\n- Branded with logo and colors\n- Mobile responsive\n- Unsubscribe links for marketing\n\nTracking:\n- Email delivery status\n- Open rates (optional)\n- Click tracking (optional)\n- Bounce handling\n- Spam complaint handling\n\nIntegration:\n- Queue system for email sending (Cloudflare Queues)\n- Retry logic for failures\n- Template management system\n- A/B testing for marketing emails","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:03:46.519116-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:03:46.519116-04:00","labels":["backend","email","notifications"],"dependencies":[{"issue_id":"ios-share-47f","depends_on_id":"ios-share-ugw","type":"blocks","created_at":"2026-01-25T22:03:46.521406-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-4ii","title":"Add authentication method selection","description":"Support multiple authentication methods beyond bearer tokens.\n\nFuture authentication options:\n- OAuth 2.0 for SaaS users\n- API keys for self-hosted\n- JWT tokens\n- Session-based auth\n\nSettings page changes:\n- Auth method selector in SettingsView\n- Different input fields based on selected method\n- Secure storage for all auth types in Keychain\n- Update UploadService to handle different auth headers\n\nCurrent: Bearer token only (frontend/ImageHost/Shared/Services/UploadService.swift:50)","status":"open","priority":3,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:52.850852-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:52.850852-04:00","dependencies":[{"issue_id":"ios-share-4ii","depends_on_id":"ios-share-1ht","type":"blocks","created_at":"2026-01-25T22:08:08.200749-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-4ky","title":"Create ExportService for iOS app","description":"Implement service to handle image export operations in iOS app.\n\nFile: frontend/ImageHost/Shared/Services/ExportService.swift\n\nFeatures:\n- Start export job via backend API\n- Poll export status until complete\n- Download completed archive\n- Save to Files app or Photos library\n- Track download progress\n- Handle cancellation\n- Error handling and retry logic\n\nMethods:\n- startExport() -\u003e ExportJob\n- checkStatus(jobId) -\u003e ExportStatus\n- downloadArchive(jobId, progress: @escaping (Double) -\u003e Void)\n- cancelExport(jobId)\n\nIntegration with existing services:\n- Use UploadService auth token for API calls\n- Load image list from HistoryService for fallback client-side export\n- Share export configuration from Config.swift\n\nError cases:\n- Network failures\n- Insufficient storage space\n- Export job timeout\n- Download interruption","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:51.964945-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:51.964945-04:00","dependencies":[{"issue_id":"ios-share-4ky","depends_on_id":"ios-share-2ct","type":"blocks","created_at":"2026-01-25T22:12:12.506083-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-4ky","depends_on_id":"ios-share-85a","type":"blocks","created_at":"2026-01-25T22:12:14.035037-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-50z","title":"Design subscription tier pricing model","description":"Define subscription tiers with storage limits and monthly pricing:\n\nSuggested tiers:\n- Free: 500MB storage, 100 images/month, /bin/zsh/month\n- Starter: 5GB storage, 1000 images/month, /month\n- Pro: 50GB storage, 10000 images/month, /month\n- Business: 200GB storage, unlimited images, /month\n- Enterprise: Custom storage, unlimited images, custom pricing\n\nEach tier includes:\n- Storage quota enforcement\n- Bandwidth limits (optional)\n- API rate limiting\n- Image retention policy\n- Priority support for higher tiers\n\nResearch competitive pricing from Imgur, Cloudinary, and similar services.","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:01:57.944981-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:01:57.944981-04:00","labels":["business","foundational","pricing"]}
{"id":"ios-share-6pi","title":"Create API documentation and developer portal","description":"Build comprehensive API documentation for developers:\n\nRequirements:\n- OpenAPI/Swagger spec for all endpoints\n- Interactive API explorer (Swagger UI or Scalar)\n- Authentication guide with examples\n- Rate limiting documentation\n- Error code reference\n- SDK examples (curl, JavaScript, Python, Swift)\n- Webhook documentation\n- Changelog for API versions\n\nDeveloper portal features:\n- API key management (for programmatic access)\n- Usage statistics per API key\n- Sandbox environment\n- Code examples and tutorials\n- Integration guides\n- API status page\n- Community forum or Discord\n\nDocumentation content:\n- Quick start guide\n- Authentication flow\n- Upload examples\n- Image management examples\n- Subscription API examples\n- Error handling best practices\n- Rate limit handling\n\nTech stack:\n- Scalar or Swagger UI for interactive docs\n- Next.js for portal\n- Hosted on Cloudflare Pages\n- OpenAPI 3.1 specification","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:04.066359-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:04.066359-04:00","labels":["developer-experience","documentation","frontend"]}
{"id":"ios-share-6v5","title":"Launch beta program and gather feedback","description":"Run beta testing program before public launch:\n\nRequirements:\n- Recruit 50-100 beta testers\n- Create beta signup form\n- Beta-specific onboarding flow\n- In-app feedback mechanism\n- Analytics for beta usage\n- Regular feedback surveys\n- Private beta Discord/Slack\n\nBeta program phases:\n- Private alpha (10 users, invite-only)\n- Closed beta (50 users, application-based)\n- Open beta (unlimited, public signup)\n- General availability (GA)\n\nFeedback collection:\n- In-app feedback button\n- Weekly surveys\n- One-on-one interviews\n- Usage analytics review\n- Bug reports and feature requests\n\nMetrics to track:\n- User activation rate\n- Feature adoption\n- Retention (day 1, 7, 30)\n- NPS (Net Promoter Score)\n- Bug discovery rate\n- Support ticket volume\n\nIncentives:\n- Free Pro tier for beta period\n- Founder pricing (lifetime discount)\n- Beta badge or special status\n- Early access to new features\n\nSuccess criteria:\n- 70%+ user satisfaction\n- \u003c 5 critical bugs\n- 40%+ weekly active users\n- Positive user testimonials","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:05:16.455717-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:05:16.455717-04:00","labels":["beta","business","product"]}
{"id":"ios-share-85a","title":"Implement backend bulk export API endpoint","description":"Create server endpoint to generate downloadable archives of user images.\n\nBackend implementation:\n- POST /api/export - Initiates export job for authenticated user\n- GET /api/export/{job_id}/status - Check export progress\n- GET /api/export/{job_id}/download - Download completed archive\n- Authentication required (bearer token from UploadService)\n\nExport job workflow:\n1. Validate user authentication and ownership of images\n2. Fetch all image IDs/URLs for the user\n3. Create ZIP archive with all user images\n4. Generate temporary download URL (expires in 24h)\n5. Return job ID and status\n\nResponse format:\n{\n  \"jobId\": \"export_123\",\n  \"status\": \"processing|completed|failed\",\n  \"imageCount\": 42,\n  \"archiveSize\": 52428800,\n  \"downloadUrl\": \"https://backend.com/exports/export_123.zip\",\n  \"expiresAt\": \"2026-01-26T12:00:00Z\"\n}\n\nConsiderations:\n- Queue long-running jobs (don't block request)\n- Cleanup expired archives\n- Rate limit export requests (1 per hour per user)\n- Include manifest.json with metadata in ZIP","status":"open","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:50.776967-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:50.776967-04:00","dependencies":[{"issue_id":"ios-share-85a","depends_on_id":"ios-share-2ct","type":"blocks","created_at":"2026-01-25T22:12:11.444078-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-9jn","title":"Add quick clipboard format switcher","description":"Optional enhancement: Add ability to quickly switch clipboard format at copy time (e.g., long-press for format menu, or secondary buttons for different formats). This would complement the default format setting and give users flexibility without always going to settings.","status":"open","priority":3,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:24:16.045622-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:24:16.045622-04:00","dependencies":[{"issue_id":"ios-share-9jn","depends_on_id":"ios-share-e7n","type":"blocks","created_at":"2026-01-25T22:24:29.344601-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-a69","title":"Implement clipboard format options storage","description":"Create data model and UserDefaults/storage mechanism for clipboard format preferences. Support formats: Plain URL, Markdown image syntax, Markdown link syntax, HTML img tag, Raw image data. Store user's selected default format and any format-specific options (e.g., alt text templates, link text patterns).","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:24:11.400463-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:24:11.400463-04:00","dependencies":[{"issue_id":"ios-share-a69","depends_on_id":"ios-share-kzc","type":"blocks","created_at":"2026-01-25T22:24:25.793217-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-azo","title":"Implement rate limiting and abuse prevention","description":"Add rate limiting to prevent abuse and ensure fair usage:\n\nRequirements:\n- Rate limits per tier (Free: 100/day, Starter: 1000/day, Pro: 10k/day, Business: unlimited)\n- Cloudflare Workers rate limiting (Durable Objects or KV)\n- IP-based rate limiting for unauthenticated endpoints\n- User-based rate limiting for authenticated endpoints\n- Exponential backoff for failed attempts\n- CAPTCHA on registration/login after failures\n- Content moderation (image scanning for prohibited content)\n- Abuse reporting mechanism\n\nRate limit headers:\n- X-RateLimit-Limit\n- X-RateLimit-Remaining\n- X-RateLimit-Reset\n\nMonitoring:\n- Alert on unusual upload patterns\n- Dashboard for abuse metrics\n- Automated suspension for policy violations\n\nContent policy:\n- NSFW detection (optional blur/flag)\n- Copyright detection\n- Malware scanning\n- File type validation beyond MIME type","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:03:06.157501-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:03:06.157501-04:00","labels":["backend","rate-limiting","security"],"dependencies":[{"issue_id":"ios-share-azo","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:03:06.159798-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-b5a","title":"Add settings export/import for migration","description":"Allow users to export and import their settings for device migration.\n\nFeatures:\n- Export settings to JSON file (backend URL, preferences, not token for security)\n- Import settings from JSON file\n- QR code generation for easy transfer between devices\n- Validation on import\n\nUI location: SettingsView.swift\nAdd to existing settings page with new section\n\nSecurity: Do NOT export upload token, user must re-enter on new device","status":"open","priority":4,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:54.584999-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:54.584999-04:00"}
{"id":"ios-share-b80","title":"Implement metadata export (JSON/CSV)","description":"Add simple metadata export for users who want URL list without downloading images.\n\nExport formats:\n1. JSON - Full UploadRecord array with thumbnails (base64 encoded)\n2. CSV - Simplified: URL, filename, upload date, delete URL, ID\n3. Markdown - Formatted list with clickable links\n\nFile: frontend/ImageHost/Shared/Services/MetadataExporter.swift\n\nMethods:\n- exportAsJSON() -\u003e Data\n- exportAsCSV() -\u003e Data\n- exportAsMarkdown() -\u003e String\n- shareMetadata(format: ExportFormat)\n\nCSV columns:\n| ID | Filename | URL | Delete URL | Upload Date |\n\nMarkdown format:\n# Upload History\n- [image_123.jpg](https://example.com/abc) - Uploaded on Jan 25, 2026\n- [photo_456.png](https://example.com/def) - Uploaded on Jan 24, 2026\n\nIntegration:\n- Read from HistoryService.loadAll()\n- Use share sheet for exporting\n- Save to Files app\n- Email/message sharing support\n\nLightweight alternative to full image export for users who just need URLs.","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:55.036601-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:55.036601-04:00"}
{"id":"ios-share-bh9","title":"Implement backup and disaster recovery","description":"Set up automated backups and disaster recovery procedures:\n\nRequirements:\n- Automated daily D1 database backups\n- R2 bucket backup to separate region\n- Point-in-time recovery capability\n- Backup retention policy (30 days)\n- Backup integrity verification\n- Disaster recovery runbook\n- Data export functionality for users\n\nBackup strategy:\n- D1: Export to R2 daily via Cloudflare Worker cron\n- R2: Enable versioning and lifecycle policies\n- User data: GDPR-compliant export API\n- Logs: Retain in separate storage\n\nRecovery procedures:\n- Database restore from backup\n- Image restoration from R2 versions\n- Rollback procedures\n- Testing disaster recovery quarterly\n\nMonitoring:\n- Backup job success/failure alerts\n- Storage growth monitoring\n- Backup size tracking\n- Automated restore testing\n\nCompliance:\n- GDPR right to data portability\n- User data deletion (right to be forgotten)\n- Data retention policies\n- Audit logs for data access","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:12.697453-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:12.697453-04:00","labels":["backend","backups","infrastructure"],"dependencies":[{"issue_id":"ios-share-bh9","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:04:12.70818-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-biy","title":"Add image metadata and organization features","description":"Enhance image management with metadata and organization:\n\nRequirements:\n- Custom filenames/titles for images\n- Tags/labels for categorization\n- Albums/folders for organization\n- Search by filename, tags, date\n- Bulk operations (delete, move, tag)\n- Image privacy settings (public/private/unlisted)\n- Share links with expiration\n- EXIF data extraction and storage\n\nDatabase schema additions:\n- images.title, images.tags, images.album_id\n- albums table (id, user_id, name, created_at)\n- image_shares (id, image_id, share_token, expires_at, view_count)\n\nAPI endpoints:\n- GET /api/images?search=\u0026tags=\u0026album=\n- POST /api/images/:id/metadata\n- POST /api/albums\n- GET /api/albums/:id/images\n- POST /api/images/:id/share\n- GET /s/:shareToken (public share link)\n\niOS app updates:\n- Add metadata editing in UploadDetailView\n- Tag input with autocomplete\n- Album picker on upload\n- Advanced search in HistoryView","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:57.346284-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:57.346284-04:00","labels":["backend","features","frontend"],"dependencies":[{"issue_id":"ios-share-biy","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:02:57.348728-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-c93","title":"Integrate Stripe payment processing","description":"Set up Stripe integration for subscription management:\n\nRequirements:\n- Stripe Connect account setup\n- Webhook endpoint for subscription events\n- Payment method collection and storage\n- Subscription creation and updates\n- Invoice generation and payment\n- Failed payment handling\n- Subscription cancellation flow\n- Proration on plan changes\n\nStripe webhook events to handle:\n- customer.subscription.created\n- customer.subscription.updated\n- customer.subscription.deleted\n- invoice.payment_succeeded\n- invoice.payment_failed\n- customer.updated\n\nIntegration with D1:\n- Store stripe_customer_id on users table\n- Update subscription status on webhook events\n- Log payment history\n\nTesting:\n- Use Stripe test mode\n- Implement test clock for subscription testing","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:21.775227-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:21.775227-04:00","labels":["backend","payments","stripe"],"dependencies":[{"issue_id":"ios-share-c93","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:02:21.777991-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-c93","depends_on_id":"ios-share-50z","type":"blocks","created_at":"2026-01-25T22:02:21.779554-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-clx","title":"Add export history and management","description":"Track past export operations for user reference and management.\n\nFile: frontend/ImageHost/Shared/Models/ExportHistory.swift\n\nData model:\n- exportId: String\n- initiatedAt: Date\n- completedAt: Date?\n- status: ExportStatus (completed/failed/cancelled)\n- format: ExportFormat (zip/photos/metadata)\n- imageCount: Int\n- totalSize: Int\n- fileLocation: URL? (path to exported archive)\n\nStorage: ExportHistoryService (similar to HistoryService)\n- Save to shared container: export_history.json\n- Max 20 export records\n- Auto-cleanup old completed exports after 7 days\n\nUI: ExportHistoryView (accessible from SettingsView)\n- List of past exports with status\n- Re-download option for expired exports\n- Delete old export files\n- Share exported archives\n- View export manifest/metadata\n\nFeatures:\n- View what was exported and when\n- Re-export if needed\n- Clean up old export files to save space\n- Track failed exports for debugging\n\nIntegration:\n- Add 'Export History' to SettingsView\n- Link from ExportProgressView on completion\n- Cleanup notifications for old exports","status":"open","priority":4,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:12:00.677854-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:12:00.677854-04:00","dependencies":[{"issue_id":"ios-share-clx","depends_on_id":"ios-share-4ky","type":"blocks","created_at":"2026-01-25T22:12:19.188692-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-cpi","title":"Implement client-side image downloader","description":"Build fallback system to download images individually from URLs when backend export unavailable.\n\nFile: frontend/ImageHost/Shared/Services/ImageDownloadService.swift\n\nFeatures:\n- Download images from UploadRecord.url array\n- Parallel downloads with concurrency limit (3-5 simultaneous)\n- Individual file saving to Files app or Photos\n- Aggregate progress tracking\n- Resume interrupted downloads\n- Retry failed downloads (3 attempts)\n\nUse cases:\n- Backend doesn't support bulk export yet\n- User wants to download specific images only\n- Export job fails but individual downloads succeed\n- Offline recovery (download from cached URLs)\n\nIntegration:\n- Read URLs from HistoryService.loadAll()\n- Use URLSession with background configuration\n- Save with original filename from UploadRecord.originalFilename\n- Create manifest.json with metadata\n\nPerformance:\n- Show overall progress: X of Y images downloaded\n- Individual image progress bars in UI\n- Pause/resume support\n- Background download when app is backgrounded","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:54.082425-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:54.082425-04:00","dependencies":[{"issue_id":"ios-share-cpi","depends_on_id":"ios-share-2ct","type":"blocks","created_at":"2026-01-25T22:12:16.069781-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-e1a","title":"Set up monitoring and alerting infrastructure","description":"Implement comprehensive monitoring and alerting:\n\nRequirements:\n- Application performance monitoring (APM)\n- Error tracking and reporting\n- Uptime monitoring\n- Log aggregation and search\n- Real-time alerts for critical issues\n- Performance metrics dashboards\n- Custom business metrics\n\nMonitoring services:\n- Cloudflare Workers Analytics (built-in)\n- Sentry for error tracking\n- Better Stack (formerly Logtail) for logs\n- Pingdom or UptimeRobot for uptime\n- Grafana Cloud for custom dashboards\n\nMetrics to monitor:\n- API response times (p50, p95, p99)\n- Error rates by endpoint\n- Upload success/failure rates\n- Database query performance\n- R2 storage metrics\n- Worker CPU usage\n- Request volume trends\n\nAlerts:\n- Error rate \u003e 5% for 5 minutes\n- API latency \u003e 1s for 5 minutes\n- Database connection failures\n- Storage quota exceeded\n- Payment webhook failures\n- Uptime \u003c 99.9% in 24h\n\nDashboards:\n- Real-time operations dashboard\n- Business metrics dashboard\n- User activity heatmap\n- System health overview","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:31.685601-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:31.685601-04:00","labels":["backend","infrastructure","monitoring"]}
{"id":"ios-share-e7n","title":"Add clipboard format generation logic","description":"Implement the logic to generate different clipboard formats based on user preferences. Formats to support: 1) Plain URL, 2) Markdown image: \\![alt](url), 3) Markdown link: [text](url), 4) HTML: \u003cimg src='url'\u003e, 5) Raw image data. Include template variables for customization (filename, timestamp, custom text).","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:24:13.357788-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:24:13.357788-04:00","dependencies":[{"issue_id":"ios-share-e7n","depends_on_id":"ios-share-kzc","type":"blocks","created_at":"2026-01-25T22:24:26.977644-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-eb5","title":"Implement export progress tracking UI","description":"Build comprehensive progress UI for export operations.\n\nFile: frontend/ImageHost/ImageHost/Views/ExportProgressView.swift\n\nDisplay elements:\n- Overall progress bar (0-100%)\n- Status message: 'Preparing export...', 'Downloading images...', 'Saving files...'\n- Image count: '15 of 42 images'\n- Data transferred: '25.3 MB of 87.2 MB'\n- Estimated time remaining\n- Individual image thumbnails with status indicators (pending/downloading/complete/failed)\n- Cancel button\n- Pause/Resume buttons (if supported by ExportService)\n\nStates:\n- .preparing: Backend creating archive\n- .downloading: Downloading archive or individual images\n- .processing: Unzipping or saving to disk\n- .complete: Success state\n- .cancelled: User cancelled\n- .failed: Error with details\n\nUI updates:\n- Real-time progress updates via Combine publishers\n- Smooth animations for progress bar\n- Thumbnail grid showing download status\n- Haptic feedback on completion\n\nIntegration:\n- Subscribe to ExportService progress publishers\n- Update HistoryView to present as sheet\n- Dismiss on completion or cancellation","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:57.928653-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:57.928653-04:00","dependencies":[{"issue_id":"ios-share-eb5","depends_on_id":"ios-share-4ky","type":"blocks","created_at":"2026-01-25T22:12:16.885422-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-f1w","title":"Design SaaS vs Self-Hosted configuration modes","description":"Design how the app will detect and handle two modes:\n1. SaaS Mode: Server URL automatically configured to hosted backend\n2. Self-Hosted Mode: User manually enters their own backend URL\n\nDetermine:\n- How to detect which mode the app should use (build config, feature flag, etc.)\n- Whether to ship as separate builds or single build with toggle\n- Migration path for existing users with manual configurations\n- UI/UX for mode switching if applicable","design":"# SaaS vs Self-Hosted Configuration Architecture\n\n## Executive Summary\nSingle unified build with runtime mode detection, providing seamless experience for both SaaS and Self-Hosted users while maintaining upgrade path flexibility.\n\n## Core Design Decision: Single Build, Runtime Detection\n\n### Rationale\n- **User Experience**: Simplified distribution (one App Store build)\n- **Flexibility**: Users can switch modes without reinstalling\n- **Migration Path**: Existing self-hosted users auto-detected, can upgrade to SaaS\n- **Maintenance**: Single codebase, no build variant management\n- **Future-proof**: Easy to add hybrid modes (multi-account support)\n\n## Architecture Components\n\n### 1. Configuration Layer (Config.swift Enhancement)\n\n```swift\nenum HostingMode {\n    case saas           // Managed backend, pre-configured URL\n    case selfHosted     // User-provided backend URL\n}\n\nstruct AppConfiguration {\n    static let saasBackendURL = \"https://img.yourdomain.com\"  // Production SaaS backend\n    \n    static var hostingMode: HostingMode {\n        // Runtime detection logic\n        if let customUrl = sharedDefaults?.string(forKey: backendUrlKey),\n           !customUrl.isEmpty,\n           customUrl != saasBackendURL {\n            return .selfHosted\n        }\n        return .saas\n    }\n    \n    static var effectiveBackendURL: String {\n        switch hostingMode {\n        case .saas:\n            return saasBackendURL\n        case .selfHosted:\n            return sharedDefaults?.string(forKey: backendUrlKey) ?? saasBackendURL\n        }\n    }\n    \n    static var isSaaSMode: Bool {\n        hostingMode == .saas\n    }\n}\n```\n\n### 2. Detection Logic\n\n**First Launch (New User):**\n- No backend URL in UserDefaults → Default to SaaS mode\n- Pre-populate with saasBackendURL\n- User only needs to enter token (obtained from web dashboard)\n\n**Existing User (Migration):**\n- Has custom backend URL → Auto-detect as Self-Hosted mode\n- Continue using existing configuration\n- Show optional \"Try SaaS\" prompt in settings\n\n**Mode Switching:**\n- Self-Hosted → SaaS: Clear custom URL, use default SaaS URL\n- SaaS → Self-Hosted: Allow URL override, switch to self-hosted mode\n\n### 3. SettingsView UI Changes\n\n**SaaS Mode:**\n```\n┌─────────────────────────────────┐\n│ Hosting Mode: SaaS ✓            │\n│ Managed by [Your Service Name]  │\n├─────────────────────────────────┤\n│ Backend URL (Read-only)         │\n│ https://img.yourdomain.com      │\n│                                 │\n│ Upload Token                    │\n│ [********************]          │\n│                                 │\n│ [Switch to Self-Hosted]         │\n└─────────────────────────────────┘\n```\n\n**Self-Hosted Mode:**\n```\n┌─────────────────────────────────┐\n│ Hosting Mode: Self-Hosted       │\n│                                 │\n│ Backend URL (Editable)          │\n│ [https://my.server.com___]      │\n│                                 │\n│ Upload Token                    │\n│ [********************]          │\n│                                 │\n│ [Switch to SaaS (Easier Setup)] │\n└─────────────────────────────────┘\n```\n\n### 4. Build Configuration Strategy\n\n**Option A: Pure Runtime (Recommended)**\n- No build-time configuration needed\n- SaaS URL hardcoded in Config.swift constant\n- Mode detected at runtime based on user preferences\n- Simplest implementation, most flexible\n\n**Option B: Build Configuration with Fallback**\n- Add xcconfig files (Debug.xcconfig, Release.xcconfig)\n- Define SAAS_BACKEND_URL build setting\n- Read in Config.swift via Info.plist injection\n- Allows easier backend URL updates without code changes\n- More complex but more professional\n\n**Recommendation: Start with Option A, migrate to Option B if needed**\n\n### 5. Migration Path for Existing Users\n\n**Phase 1: Detection (Immediate)**\n```\nif UserDefaults has custom URL:\n    → Self-Hosted Mode (no change to user)\nelse:\n    → SaaS Mode (default)\n```\n\n**Phase 2: Opt-in Notification (Future)**\n- Show in-app message: \"Try our managed SaaS backend\"\n- One-tap migration: Copy token, switch to SaaS URL\n- Keep history intact (stored locally)\n\n**Phase 3: Account Sync (Future with auth)**\n- Self-hosted users can import history to SaaS account\n- Multi-backend support (use both)\n\n### 6. Edge Cases \u0026 Error Handling\n\n**Network Failure on First Launch:**\n- Default to SaaS mode with placeholder\n- Show \"Configure\" prompt when online\n- Graceful degradation\n\n**Invalid Self-Hosted URL:**\n- Test connection on save\n- Revert to last known good URL\n- Suggest SaaS mode if repeated failures\n\n**Token Migration:**\n- Tokens are backend-specific\n- When switching modes, clear token (security)\n- Require re-authentication\n\n**Share Extension Sync:**\n- Use shared UserDefaults (App Group)\n- Both main app and extension read same config\n- Mode detection identical in both contexts\n\n### 7. Implementation Checklist\n\n**Config.swift Changes:**\n- [ ] Add HostingMode enum\n- [ ] Add saasBackendURL constant (set to production URL)\n- [ ] Add hostingMode computed property\n- [ ] Add effectiveBackendURL computed property\n- [ ] Update getBackendURL() in UploadService\n\n**UploadService.swift Changes:**\n- [ ] Update getBackendURL() to use Config.effectiveBackendURL\n- [ ] Update isConfigured to check effective URL\n\n**SettingsView.swift Changes:**\n- [ ] Add @State for hostingMode display\n- [ ] Conditionally show URL field (editable vs read-only)\n- [ ] Add mode switcher button\n- [ ] Update validation logic for mode-aware behavior\n- [ ] Add visual mode indicator\n\n**Optional Enhancements:**\n- [ ] Add analytics event for mode detection\n- [ ] Add \"Try SaaS\" banner for self-hosted users\n- [ ] Implement mode switch confirmation dialog\n- [ ] Add mode indicator to main app UI\n\n### 8. Security Considerations\n\n**Token Isolation:**\n- SaaS token ≠ Self-hosted token\n- Clear token when switching modes\n- Store mode preference encrypted (if sensitive)\n\n**URL Validation:**\n- Self-hosted URLs must be HTTPS in production\n- Allow HTTP only for localhost (testing)\n- Validate URL format before saving\n\n**Backward Compatibility:**\n- Existing users with custom URLs unaffected\n- No data migration required\n- Graceful fallback to self-hosted mode\n\n### 9. Testing Strategy\n\n**Unit Tests:**\n- Mode detection with various UserDefaults states\n- effectiveBackendURL returns correct URL per mode\n- Mode switching updates configuration correctly\n\n**Integration Tests:**\n- Upload works in both modes\n- Share extension respects mode configuration\n- Settings UI shows correct mode and fields\n\n**Migration Tests:**\n- Fresh install → SaaS mode\n- Existing self-hosted config → Self-hosted mode\n- Mode switch → Token cleared, URL updated\n\n### 10. Future Enhancements\n\n**Phase 2 Features:**\n- Build-time configuration via xcconfig\n- Server-side config endpoint (/api/config)\n- Feature flags per backend\n\n**Phase 3 Features:**\n- Multi-account support (SaaS + Self-hosted)\n- Profile switching\n- Backend health monitoring\n\n## Conclusion\n\nThis design provides:\n✓ Zero breaking changes for existing users\n✓ Simple SaaS onboarding (URL auto-configured)\n✓ Flexible mode switching\n✓ Clean architecture with clear separation of concerns\n✓ Easy to implement incrementally\n✓ Foundation for future multi-backend features\n\nThe single-build approach with runtime detection balances simplicity with flexibility, while maintaining a clear upgrade path for all user segments.","status":"closed","priority":1,"issue_type":"feature","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:44.675712-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-26T07:31:55.979456-04:00","closed_at":"2026-01-26T07:31:55.979456-04:00","close_reason":"Closed"}
{"id":"ios-share-g7a","title":"Implement settings analytics and diagnostics","description":"Add diagnostics page to help users troubleshoot configuration issues.\n\nFeatures in SettingsView:\n- Show current configuration status (URL, token status, connectivity)\n- Display last successful upload timestamp\n- Show app version and build info\n- Network diagnostic tests (ping backend, check TLS, DNS resolution)\n- Export diagnostic log for support\n\nCurrent test connection: UploadService.testConnection() (UploadService.swift:115)\nExpand this to more comprehensive diagnostics","status":"open","priority":4,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:56.386492-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:56.386492-04:00"}
{"id":"ios-share-gyh","title":"Set up app icons for ImageHost","description":"Configure app icons for the iOS ImageHost app. App icon assets are already present in Assets.xcassets/AppIcon.appiconset/ and need to be properly integrated into the project.","notes":"Icon source path: /Users/codybontecou/dev/ios-app-icons/output/minimalist_geometric_stacked_rectangles__aluminum_and_translucent_plexiglass_layers__Donald_Judd_sculpture__industrial_materials__specific_objects__clean_precise_forms__image_sharing_icon-20260125_220337/processed/variant-3/","status":"in_progress","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:22:25.235455-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:22:58.348698-04:00"}
{"id":"ios-share-isw","title":"Build admin panel for operations","description":"Create admin interface for managing users, subscriptions, and content:\n\nRequirements:\n- Secure admin authentication (separate from user auth)\n- User management (search, view, edit, suspend)\n- Subscription override and refunds\n- Content moderation queue\n- System health monitoring\n- Database backups and restore\n- Analytics dashboard\n- Support ticket system\n\nAdmin features:\n- View all users with filters\n- Search images by user or content\n- Manual subscription adjustments\n- Grant free tier upgrades\n- View support requests\n- Export data for GDPR requests\n- Ban abusive users\n- View system logs\n\nTech stack:\n- Next.js admin panel\n- Protected routes with admin JWT\n- Same Cloudflare backend\n- Separate admin API endpoints\n\nEndpoints:\n- GET /admin/users\n- GET /admin/users/:id\n- POST /admin/users/:id/suspend\n- GET /admin/images?flagged=true\n- POST /admin/subscriptions/:id/adjust\n- GET /admin/metrics\n- GET /admin/logs","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:03:37.687272-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:03:37.687272-04:00","labels":["admin","backend","operations"],"dependencies":[{"issue_id":"ios-share-isw","depends_on_id":"ios-share-ugw","type":"blocks","created_at":"2026-01-25T22:03:37.690071-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-kw1","title":"Build subscription management web dashboard","description":"Create web dashboard for users to manage subscriptions and view usage:\n\nRequirements:\n- Next.js or Remix app hosted on Cloudflare Pages\n- User authentication (same JWT as iOS app)\n- View current subscription tier and status\n- Upgrade/downgrade subscription\n- Cancel subscription\n- View storage usage and image gallery\n- Download or delete images\n- View billing history\n- Update payment method\n- Account settings (email, password)\n\nPages needed:\n- /login\n- /register\n- /dashboard (overview)\n- /images (gallery with search/filter)\n- /settings/account\n- /settings/billing\n- /settings/subscription\n\nAPI requirements:\n- Reuse same backend endpoints as iOS\n- Add /api/images/list endpoint\n- Add /api/subscription/portal for Stripe billing portal\n\nTech stack:\n- Next.js App Router or Remix\n- Tailwind CSS for styling\n- Cloudflare Pages for hosting\n- Server-side rendering for SEO","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:47.839602-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:47.839602-04:00","labels":["dashboard","frontend","web"],"dependencies":[{"issue_id":"ios-share-kw1","depends_on_id":"ios-share-ugw","type":"blocks","created_at":"2026-01-25T22:02:47.841887-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-kw1","depends_on_id":"ios-share-c93","type":"blocks","created_at":"2026-01-25T22:02:47.843285-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-kzc","title":"Design clipboard customization settings UI","description":"Design the user interface for clipboard customization settings. Users should be able to choose between different clipboard output formats (URL only, Markdown formatted, HTML, image data, etc.). Consider: Settings page location, Toggle/Radio button UI, Preview of selected format, Default behavior selection.","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:24:10.082594-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:24:10.082594-04:00"}
{"id":"ios-share-naz","title":"Build marketing website and landing pages","description":"Create marketing website to attract and convert users:\n\nRequirements:\n- Landing page with clear value proposition\n- Pricing page with tier comparison\n- Features page with screenshots\n- Use cases and testimonials\n- FAQ section\n- Blog for content marketing\n- Contact/support page\n- Terms of Service and Privacy Policy\n- GDPR compliance notices\n\nLanding page sections:\n- Hero with CTA (Start Free Trial)\n- Feature highlights with icons\n- Pricing comparison table\n- Social proof (user count, testimonials)\n- Integration showcase (iOS, API, etc.)\n- Final CTA\n\nSEO optimization:\n- Meta tags for social sharing\n- Structured data markup\n- Sitemap generation\n- Fast page load (Lighthouse 90+)\n- Mobile responsive\n- Accessibility (WCAG AA)\n\nTech stack:\n- Next.js with static generation\n- Tailwind CSS\n- Cloudflare Pages\n- MDX for blog posts\n- Contact form with Cloudflare Forms\n\nMarketing tools:\n- Google Analytics or Plausible\n- Email capture for newsletter\n- Free trial signup flow\n- Demo video or interactive tour","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:04:22.737032-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:04:22.737032-04:00","labels":["frontend","marketing","website"]}
{"id":"ios-share-top","title":"Add Photos library integration for exports","description":"Enable saving exported images directly to iOS Photos library.\n\nImplementation:\n- Request Photos library permission (NSPhotoLibraryAddUsageDescription)\n- Use PHPhotoLibrary to save images\n- Preserve original filenames in metadata\n- Create album 'ImageHost Exports' for organization\n- Handle permission denial gracefully\n\nFile: frontend/ImageHost/Shared/Services/PhotosExporter.swift\n\nFeatures:\n- Save individual images to Photos\n- Batch save all exported images\n- Create custom album for exports\n- Preserve upload date as photo date\n- Add metadata tags\n\nUser flow:\n1. User initiates export\n2. App requests Photos permission (if not granted)\n3. Downloads complete\n4. Saves to Photos with progress indicator\n5. Shows success notification with album link\n\nAlternative to Files app export for users who want images in their photo library.\n\nInfo.plist addition needed:\n- NSPhotoLibraryAddUsageDescription\n- NSPhotoLibraryUsageDescription (for album creation)","status":"open","priority":3,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:11:56.472748-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:11:56.472748-04:00"}
{"id":"ios-share-ugw","title":"Implement user authentication system","description":"Build user registration, login, and session management:\n\nRequirements:\n- Email/password authentication\n- JWT token generation for API access\n- Password reset flow via email\n- Email verification on signup\n- Rate limiting on auth endpoints\n- Secure password hashing (bcrypt/argon2)\n\nIntegration points:\n- CloudFlare Workers for auth endpoints\n- D1 database for user storage\n- Email service (SendGrid, Postmark, or Cloudflare Email Workers)\n- Token stored in iOS Keychain (already implemented)\n\nAPI endpoints needed:\n- POST /auth/register\n- POST /auth/login\n- POST /auth/refresh\n- POST /auth/forgot-password\n- POST /auth/reset-password\n- POST /auth/verify-email","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:13.018917-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:13.018917-04:00","labels":["auth","backend","security"],"dependencies":[{"issue_id":"ios-share-ugw","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:02:13.022902-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-v71","title":"Add CDN and image optimization","description":"Implement CDN and image optimization for better performance:\n\nRequirements:\n- Cloudflare Images integration for automatic optimization\n- On-the-fly image resizing via URL parameters\n- WebP/AVIF conversion for modern browsers\n- Image compression without quality loss\n- Thumbnail generation (multiple sizes)\n- Cache optimization (Cache-Control headers)\n- Lazy loading support\n- Responsive image srcset generation\n\nImage transformations:\n- Resize: ?w=800\u0026h=600\n- Format: ?format=webp\n- Quality: ?q=85\n- Fit modes: cover, contain, crop\n- Filters: blur, grayscale, brightness\n\nCloudflare options:\n- Cloudflare Images (paid service, /month + usage)\n- Cloudflare Image Resizing (Pro plan feature)\n- Custom Worker with sharp.js\n- On-upload optimization and store variants\n\nPerformance targets:\n- \u003c 100ms image serving latency\n- 95%+ cache hit ratio\n- Automatic format negotiation\n- Progressive JPEG support\n\nCost optimization:\n- Cache popular images at edge\n- Compress on upload\n- Serve optimized by default","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:03:56.28865-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:03:56.28865-04:00","labels":["backend","cdn","performance"]}
{"id":"ios-share-w4f","title":"Security audit and compliance","description":"Conduct security audit and ensure compliance with regulations:\n\nRequirements:\n- OWASP Top 10 vulnerability assessment\n- Penetration testing (hire security firm)\n- SOC 2 Type II compliance (optional, for enterprise)\n- GDPR compliance audit\n- PCI DSS compliance for payment handling\n- Security headers implementation\n- Third-party dependency scanning\n\nSecurity measures:\n- SQL injection prevention (parameterized queries)\n- XSS prevention (content security policy)\n- CSRF protection on forms\n- Rate limiting on sensitive endpoints\n- Encryption at rest and in transit\n- Secure password hashing (Argon2)\n- API key rotation policy\n- Session timeout enforcement\n\nCompliance documentation:\n- Privacy Policy\n- Terms of Service\n- Cookie Policy\n- Data Processing Agreement (DPA)\n- Subprocessor list\n- Data retention policy\n- Incident response plan\n\nSecurity monitoring:\n- Automated vulnerability scanning\n- Dependency updates for security patches\n- Security incident logging\n- Regular security reviews\n- Bug bounty program (future)","status":"open","priority":1,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:05:07.555319-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:05:07.555319-04:00","labels":["backend","compliance","security"]}
{"id":"ios-share-wfu","title":"Implement storage quota enforcement","description":"Add storage quota tracking and enforcement per user tier:\n\nRequirements:\n- Track storage usage in real-time on upload\n- Check quota before accepting uploads\n- Reject uploads that exceed user's tier limit\n- Return clear error messages with upgrade prompts\n- Background job to recalculate usage periodically\n- Admin dashboard to monitor storage across users\n\nQuota checks:\n- Before upload: verify user hasn't exceeded limit\n- On upload success: increment storage_usage.total_bytes_used\n- On delete: decrement storage_usage.total_bytes_used\n- Periodic audit: reconcile DB usage with actual R2 usage\n\nError responses:\n- 402 Payment Required when quota exceeded\n- Include current usage and tier limit in response\n- Suggest upgrade to next tier\n\nPerformance considerations:\n- Use atomic operations for usage updates\n- Cache current usage in memory (with TTL)\n- Optimize for high-frequency upload scenarios","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:29.988003-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:29.988003-04:00","labels":["backend","quotas","storage"],"dependencies":[{"issue_id":"ios-share-wfu","depends_on_id":"ios-share-0gc","type":"blocks","created_at":"2026-01-25T22:02:29.990758-04:00","created_by":"Cody Bontecou"},{"issue_id":"ios-share-wfu","depends_on_id":"ios-share-50z","type":"blocks","created_at":"2026-01-25T22:02:29.992186-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-x53","title":"Update iOS app for multi-user authentication","description":"Modify iOS app to support user login and registration:\n\nRequirements:\n- Add login/registration screens\n- Store user credentials securely in Keychain\n- Replace single UPLOAD_TOKEN with per-user JWT\n- Handle token refresh on expiry\n- Add logout functionality\n- Display current user email in settings\n- Show subscription tier and storage usage\n- Add upgrade prompts when quota reached\n\nNew screens:\n- LoginView (email/password)\n- RegisterView (email/password/confirm)\n- ForgotPasswordView\n- AccountView (profile, subscription, usage stats)\n\nAPI integration:\n- Call /auth/login and store JWT\n- Add Authorization: Bearer JWT to all requests\n- Refresh token when needed\n- Handle 401 Unauthorized responses\n\nUX considerations:\n- Persist login state across app launches\n- Graceful handling of network errors\n- Clear messaging for quota limits\n- In-app upgrade flow to Stripe checkout","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:02:39.74987-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:02:39.74987-04:00","labels":["auth","frontend","ios"],"dependencies":[{"issue_id":"ios-share-x53","depends_on_id":"ios-share-ugw","type":"blocks","created_at":"2026-01-25T22:02:39.752088-04:00","created_by":"Cody Bontecou"}]}
{"id":"ios-share-zsr","title":"Add environment-based backend URLs","description":"Support multiple backend environments for development and testing.\n\nAdd to Config.swift:\n- Development backend URL\n- Staging backend URL  \n- Production backend URL\n- Environment selection mechanism\n\nUse cases:\n- Developers can test against dev backend\n- QA can test against staging\n- Production builds use production URL\n- Override mechanism for testing\n\nCurrent: Single backend URL in Config.swift","status":"open","priority":2,"issue_type":"task","owner":"bontecouc@gmail.com","created_at":"2026-01-25T22:07:47.748-04:00","created_by":"Cody Bontecou","updated_at":"2026-01-25T22:07:47.748-04:00"}
